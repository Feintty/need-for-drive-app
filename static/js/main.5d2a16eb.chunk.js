(this["webpackJsonpneed-for-drive"]=this["webpackJsonpneed-for-drive"]||[]).push([[0],{130:function(t,e,a){},132:function(t,e,a){},133:function(t,e,a){},134:function(t,e,a){},135:function(t,e,a){},137:function(t,e,a){"use strict";a.r(e);var n=a(1),c=a.n(n),i=a(18),s=a.n(i),r=a(21),o=a(6),l=a(5),d=(a(63),a.p+"static/media/telegram.09f73cfe.svg"),u=a.p+"static/media/instagram.5e14e95a.svg",b=a.p+"static/media/facebook.01c0ca6a.svg",j=a(0),m=function(t){var e=t.isHiding,a=Object(n.useState)(!0),c=Object(l.a)(a,2),i=c[0],s=c[1],r=[Object(j.jsx)("li",{href:"/",className:"burger-nav__link link-dark",children:"\u041f\u0410\u0420\u041a\u041e\u0412\u041a\u0410"}),Object(j.jsx)("li",{href:"/",className:"burger-nav__link link-dark",children:"\u0421\u0422\u0420\u0410\u0425\u041e\u0412\u041a\u0410"}),Object(j.jsx)("li",{href:"/",className:"burger-nav__link link-dark",children:"\u0411\u0415\u041d\u0417\u0418\u041d"}),Object(j.jsx)("li",{href:"/",className:"burger-nav__link link-dark",children:"\u041e\u0411\u0421\u041b\u0423\u0416\u0418\u0412\u0410\u041d\u0418\u0415"})];return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:e?"burger-nav--main hide":"burger-nav--main",children:[Object(j.jsx)("ul",{className:"burger-nav__container",children:r.map((function(t){return t}))}),Object(j.jsxs)("div",{className:"burger-nav__socials",children:[Object(j.jsx)("img",{alt:"icon",src:d,className:"socials__icon"}),Object(j.jsx)("img",{alt:"icon",src:b,className:"socials__icon"}),Object(j.jsx)("img",{alt:"icon",src:u,className:"socials__icon"})]}),Object(j.jsx)("button",{type:"button",className:"lang__button--burger button-round",onClick:function(){return s(!i)},children:i?Object(j.jsx)("h4",{children:"Eng"}):Object(j.jsx)("h4",{children:"\u0420\u0443\u0441"})})]}),Object(j.jsx)("div",{className:e?"burger-nav--second hide":"burger-nav--second"})]})};m.defaultProps={isHiding:"true"};var f=m,h=(a(65),a.p+"static/media/sidebar-burger.33a03786.svg"),O=a.p+"static/media/close.1d4598cc.svg",p=function(t){var e=t.isBurgerHiding,a=t.setIsBurgerHiding,c=Object(n.useState)(!0),i=Object(l.a)(c,2),s=i[0],r=i[1],o=Object(n.useState)(!0),d=Object(l.a)(o,2),u=d[0],b=d[1];return Object(j.jsxs)("div",{className:"side-bar",children:[Object(j.jsx)("aside",{className:"side-bar__burger",children:Object(j.jsx)("button",{type:"button",className:"burger__button button-nullstyle",onClick:function(){b(!u),a(!e)},children:Object(j.jsx)("img",{alt:"burger",className:u?"burger__img":"burger__img--close",src:u?h:O})})}),Object(j.jsx)("aside",{className:"side-bar__lang",children:Object(j.jsx)("button",{type:"button",className:"lang__button button-round",onClick:function(){return r(!s)},children:s?Object(j.jsx)("h4",{children:"Eng"}):Object(j.jsx)("h4",{children:"\u0420\u0443\u0441"})})})]})};p.defaultProps={isBurgerHiding:!0,setIsBurgerHiding:void 0};var x=p,v=(a(66),a.p+"static/media/destination.480be180.svg"),_=(a(67),function(t){var e=t.addClassname;return Object(j.jsxs)("header",{className:e?"header ".concat(e):"header",children:[Object(j.jsx)("h1",{className:"header__logo",children:"Need for drive"}),Object(j.jsxs)("div",{className:"header__destination",children:[Object(j.jsx)("img",{alt:"destination-pin",src:v,className:"destination__icon"}),Object(j.jsx)("div",{className:"destination__name",children:"\u0423\u043b\u044c\u044f\u043d\u043e\u0432\u0441\u043a"})]})]})}),g=function(){return Object(j.jsxs)("div",{className:"start-screen",children:[Object(j.jsx)(_,{addClassname:"main-page-padding"}),Object(j.jsxs)("div",{className:"start-screen__content",children:[Object(j.jsx)("h2",{className:"content__heading-main",children:"\u041a\u0430\u0440\u0448\u0435\u0440\u0438\u043d\u0433"}),Object(j.jsx)("h2",{className:"content__heading-second",children:"Need for drive"}),Object(j.jsx)("h3",{className:"content__subheading",children:"\u041f\u043e\u043c\u0438\u043d\u0443\u0442\u043d\u0430\u044f \u0430\u0440\u0435\u043d\u0434\u0430 \u0430\u0432\u0442\u043e \u0442\u0432\u043e\u0435\u0433\u043e \u0433\u043e\u0440\u043e\u0434\u0430"}),Object(j.jsx)(r.b,{to:"/order",children:Object(j.jsx)("button",{type:"button",className:"content__button button-default",children:"\u0417\u0430\u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})})]}),Object(j.jsxs)("footer",{className:"start-screen__footer",children:[Object(j.jsx)("h4",{className:"footer__info",children:"\xa9 2016-2019 \xabNeed for drive\xbb"}),Object(j.jsx)("a",{href:"tel:+8(495)234-22-44",className:"footer__number link-light",children:"8 (495) 234-22-44"})]})]})},N=(a(75),a.p+"static/media/car-1-min.411cb375.png"),C=a.p+"static/media/car-2-min.7bcfc4ae.png",y=a.p+"static/media/car-3-min.c4d0f466.png",S=a.p+"static/media/car-4-min.bb1a5d29.png",k=a.p+"static/media/arrow-left.1752ae91.svg",D=a.p+"static/media/arrow-right.7591c327.svg",T=["button-colorized-green","button-colorized-mint","button-colorized-red","button-colorized-purple"],I=["\u041e\u0441\u0442\u0430\u0432\u043b\u044f\u0439\u0442\u0435 \u043c\u0430\u0448\u0438\u043d\u0443 \u043d\u0430 \u043f\u043b\u0430\u0442\u043d\u044b\u0445 \u0433\u043e\u0440\u043e\u0434\u0441\u043a\u0438\u0445 \u043f\u0430\u0440\u043a\u043e\u0432\u043a\u0430\u0445 \u0438 \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u043d\u044b\u0445 \u043c\u0435\u0441\u0442\u0430\u0445, \u043d\u0435 \u043d\u0430\u0440\u0443\u0448\u0430\u044f \u041f\u0414\u0414, \u0430 \u0442\u0430\u043a\u0436\u0435 \u0432 \u0430\u044d\u0440\u043e\u043f\u043e\u0440\u0442\u0430\u0445.","\u041f\u043e\u043b\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u0445\u043e\u0432\u043a\u0430 \u0441\u0442\u0440\u0430\u0445\u043e\u0432\u043a\u0430 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u044f","\u041f\u043e\u043b\u043d\u044b\u0439 \u0431\u0430\u043a \u043d\u0430 \u043b\u044e\u0431\u043e\u0439 \u0437\u0430\u043f\u0440\u0430\u0432\u043a\u0435 \u0433\u043e\u0440\u043e\u0434\u0430 \u0437\u0430 \u043d\u0430\u0448 \u0441\u0447\u0451\u0442","\u0410\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u044c \u043f\u0440\u043e\u0445\u043e\u0434\u0438\u0442 \u0435\u0436\u0435\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u043e\u0435 \u0422\u041e"],E=function(){var t=Object(n.useState)(0),e=Object(l.a)(t,2),a=e[0],c=e[1],i=[N,C,y,S];return Object(j.jsxs)("div",{className:"slider",children:[Object(j.jsx)("img",{src:i[a],alt:"background",className:"slider__image"}),Object(j.jsx)("div",{onClick:function(){c(0===a?3:a-1)},onKeyPress:!0,className:"slider__control--left",role:"button",tabIndex:"0",children:Object(j.jsx)("img",{src:k,alt:"left_arrow",className:"control__image"})}),Object(j.jsxs)("article",{className:"slider__article",children:[Object(j.jsx)("h2",{className:"slider__heading",children:["\u0411\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u0430\u044f \u043f\u0430\u0440\u043a\u043e\u0432\u043a\u0430","\u0421\u0442\u0440\u0430\u0445\u043e\u0432\u043a\u0430","\u0411\u0435\u043d\u0437\u0438\u043d","\u041e\u0431\u0441\u043b\u0443\u0436\u0438\u0432\u0430\u043d\u0438\u0435"][a]}),Object(j.jsx)("section",{className:"slider__section",children:I[a]}),Object(j.jsx)("button",{type:"button",className:"slider__button ".concat(T[a]),children:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"})]}),Object(j.jsx)("div",{className:"slider__state",children:new Array(4).fill().map((function(t,e){return Object(j.jsx)("div",{className:a===e?"state__dot active":"state__dot"})}))}),Object(j.jsx)("div",{onKeyPress:!0,onClick:function(){c(3===a?0:a+1)},role:"button",tabIndex:"0",className:"slider__control--right",children:Object(j.jsx)("img",{src:D,alt:"right_arrow",className:"control__image"})})]})},w=(a(76),function(){var t=Object(n.useState)(!0),e=Object(l.a)(t,2),a=e[0],c=e[1];return Object(j.jsxs)("div",{className:"main-page",children:[Object(j.jsx)(x,{isBurgerHiding:a,setIsBurgerHiding:c}),Object(j.jsx)(g,{}),Object(j.jsx)(f,{isHiding:a}),Object(j.jsx)(E,{})]})}),F=function(){var t=Object(o.g)().id;return Object(j.jsxs)("div",{children:["\u0422\u0443\u0442 \u0431\u0443\u0434\u0435\u0442 \u0441\u0442\u0440\u0430\u043d\u0438\u0447\u043a\u0430 \u0437\u0430\u043a\u0430\u0437\u0430 \u043f\u043e \u043d\u043e\u043c\u0435\u0440\u0443 ",t]})},M=(a(77),a(78),a.p+"static/media/arrow-breadcrumbs.3f54b55d.svg"),R=function(t){var e,a,n=t.completedSteps,c=t.currentStep,i=t.onBreadcrumbClick,s=["\u041c\u0435\u0441\u0442\u043e\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435","\u041c\u043e\u0434\u0435\u043b\u044c","\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e","\u0418\u0442\u043e\u0433\u043e"],r=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2?arguments[2]:void 0;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("button",{onClick:function(){return i(a)},type:"button",className:"breadcrumbs__element".concat(" ".concat(e)),children:[" ",t]}),Object(j.jsx)("img",{src:M,alt:"sep"})]})};return Object(j.jsx)("div",{className:"breadcrumbs",children:(e=n,a=c,s.map((function(t,n){return n===a?r(t,"current",n):n<=e?r(t,"completed",n):r(t)})))})},A=(a(79),a(8)),B={headers:{"X-Api-Factory-Application-Id":"5e25c641099b810b946c5d5b",Authorization:"Bearer 52efbe08228671240494f537f2486bc109a637b4","Content-Type":"application/json"}},z=(a(80),a(146)),H=a(147),P=a(148),Y=a(149),L=a(17),V=a.n(L),G=a.p+"static/media/marker.c961018a.svg",K=new V.a.Icon({iconUrl:G,iconRetinaUrl:G,iconAnchor:null,popupAnchor:null,shadowUrl:null,shadowSize:null,shadowAnchor:null,iconSize:new V.a.Point(18,18),className:"leaflet-div-icon"});function U(t){var e=t.position,a=t.zoom,n=Object(z.a)();return n.setView(e),n.setZoom(a),null}var J=function(t){var e=t.focus,a=t.zoom,n=t.markers,c=t.setCityAndPoint;return Object(j.jsxs)(P.a,{className:"map",attributionControl:!1,zoomControl:!1,center:e,zoom:a,dragging:!0,animate:!0,easeLinearity:.35,children:[Object(j.jsx)(Y.a,{attribution:'\xa9 <a href="https://stadiamaps.com/">Stadia Maps</a>, \xa9 <a href="https://openmaptiles.org/">OpenMapTiles</a> \xa9 <a href="http://openstreetmap.org">OpenStreetMap</a> contributors',url:"https://tiles.stadiamaps.com/tiles/alidade_smooth/{z}/{x}/{y}{r}.png?api_key=".concat("b4b52b45-73fc-4229-ad23-4bf5255d0f7f")}),n.map((function(t){var e=t.locations.find((function(t){return"RU"===t.adminArea1})).latLng,a=t.providedLocation.location.split(",")[0],n=t.providedLocation.location.split(",").slice(1).toString();return Object(j.jsx)(H.a,{position:[e.lat,e.lng],icon:K,city:a,address:n,fullAddress:t.providedLocation.location,eventHandlers:{mousedown:function(t){c(t.target.options.city,t.target.options.address)}}})})).map((function(t){return t})),Object(j.jsx)(U,{position:e,zoom:a})]})},q=(a(81),function(t){var e=t.description,a=t.placeholder,c=t.datalistItems,i=t.setDataElement,s=t.text,r=Object(n.useState)(s),o=Object(l.a)(r,2),d=o[0],u=o[1],b=Object(n.useState)(),m=Object(l.a)(b,2),f=m[0],h=m[1],p=Object(n.useState)(!1),x=Object(l.a)(p,2),v=x[0],_=x[1],g=Object(n.useState)(!1),N=Object(l.a)(g,2),C=N[0],y=N[1];Object(n.useEffect)((function(){u(s),i(s)}),[s]);var S=function(t){i&&i(t.target.innerText),u(t.target.innerText)};return Object(n.useEffect)((function(){c&&""!==d?h(c.filter((function(t){return RegExp("^".concat(d.toLowerCase())).test(t.toLowerCase())}))):c&&h(c)}),[c,d]),Object(j.jsxs)("div",{className:"text-input",children:[Object(j.jsx)("span",{className:"text-input__description",children:e}),Object(j.jsx)("input",{value:d,onChange:function(t){u(t.target.value)},onFocus:function(){_(!0),y(!0)},onBlur:function(){_(!1),y(!1)},placeholder:a,className:"text-input__text-field",type:"text"}),Object(j.jsx)("img",{onKeyPress:!0,alt:"close",role:"none",onMouseDown:function(){u(""),i("")},className:v?"text-input__close":"text-input__close disabled",src:O}),Object(j.jsx)("div",{className:C?"text-input__datalist":"text-input__datalist disabled",children:f&&f.map((function(t){return Object(j.jsx)("span",{className:"text-input__data-element",onMouseDown:S,role:"none",children:t})}))})]})}),Q=function(t){var e=t.returnData,a=t.isActive,c=Object(n.useState)(),i=Object(l.a)(c,2),s=i[0],r=i[1],o=Object(n.useState)(),d=Object(l.a)(o,2),u=d[0],b=d[1],m=Object(n.useState)(""),f=Object(l.a)(m,2),h=f[0],O=f[1],p=Object(n.useState)(""),x=Object(l.a)(p,2),v=x[0],_=x[1],g=Object(n.useState)(),N=Object(l.a)(g,2),C=N[0],y=N[1],S=Object(n.useState)(),k=Object(l.a)(S,2),D=k[0],T=k[1],I=Object(n.useState)([54.3107593,48.3642771]),E=Object(l.a)(I,2),w=E[0],F=E[1],M=Object(n.useState)(),R=Object(l.a)(M,2),z=R[0],H=R[1],P=function(t){var e=new RegExp(/[0-9]|\u0413\u043e\u0440\u043e\u0434/);return u.filter((function(a){return!(!Object.prototype.hasOwnProperty.call(a,"cityId")||null===a.cityId||e.test(a.cityId.name)||a.cityId.name!==t)&&a}))};return Object(n.useEffect)((function(){var t,e;t=r,e=H,fetch("".concat("https://api-factory.simbirsoft1.com","/api/db/city"),Object(A.a)({method:"GET"},B)).then((function(t){return t.json()})).then((function(e){t(e.data)}),(function(t){e(t.toString())})),function(t,e){fetch("".concat("https://api-factory.simbirsoft1.com","/api/db/point"),Object(A.a)({method:"GET"},B)).then((function(t){return t.json()})).then((function(e){t(e.data)}),(function(t){e(t.toString())}))}(b,H)}),[]),Object(n.useEffect)((function(){s&&(function(t,e,a){var n=a.map((function(t){return"&location=".concat(t.name)})).join("");fetch("".concat("https://www.mapquestapi.com/geocoding/v1/batch?key=").concat("m7wozl03nRKYFAjrN5sQTfYD4V501kD8").concat(n),{method:"GET"}).then((function(t){return t.json()})).then((function(e){t(e.results)}),(function(t){e(t.toString())}))}(y,H,s),u&&function(t,e,a,n){var c=a.map((function(t){return n(t.name)})).filter((function(t){return 0!==t.length})).flat(1).reduce((function(t,e){return"".concat(t,"&location=").concat(e.cityId.name,",").concat(e.address)}),"");fetch("".concat("https://www.mapquestapi.com/geocoding/v1/batch?key=").concat("m7wozl03nRKYFAjrN5sQTfYD4V501kD8").concat(c),{method:"GET"}).then((function(t){return t.json()})).then((function(e){t(e.results)}),(function(t){e(t.toString())}))}(T,H,s,P))}),[s,u]),Object(n.useEffect)((function(){if(h&&C&&F(function(t){var e=C.find((function(e){return e.providedLocation.location===t})).locations.find((function(t){return"RU"===t.adminArea1}));return[e.latLng.lat,e.latLng.lng]}(h)),u&&v){var t=s.find((function(t){return t.name===h})),a=u.find((function(t){return t.address===v}));e({city:t,point:a})}}),[h,v]),Object(n.useEffect)((function(){v&&D&&F(function(t){var e="".concat(h,",").concat(u.find((function(e){return e.address===t})).address),a=D.find((function(t){return t.providedLocation.location===e})).locations.find((function(t){return"RU"===t.adminArea1}));return[a.latLng.lat,a.latLng.lng]}(v))}),[v]),a?s&&u&&D&&C&&!z?Object(j.jsxs)("div",{className:"location-tab",children:[Object(j.jsxs)("div",{className:"location-tab__inputs",children:[Object(j.jsx)(q,{text:h,description:"\u0413\u043e\u0440\u043e\u0434",placeholder:"\u041d\u0430\u0447\u043d\u0438\u0442\u0435 \u0432\u0432\u043e\u0434\u0438\u0442\u044c \u0433\u043e\u0440\u043e\u0434 ...",datalistItems:s?s.filter((function(t){return/^[\u0430-\u044f\u0410-\u042f]*$/.test(t.name)})).map((function(t){return t.name})):s.map((function(t){return t.name})),setDataElement:O}),Object(j.jsx)(q,{text:v,description:"\u041f\u0443\u043d\u043a\u0442 \u0432\u044b\u0434\u0430\u0447\u0438",placeholder:"\u041d\u0430\u0447\u043d\u0438\u0442\u0435 \u0432\u0432\u043e\u0434\u0438\u0442\u044c \u043f\u0443\u043d\u043a\u0442 ...",datalistItems:h?P(h).map((function(t){return t.address})):u.map((function(t){return t.address})),setDataElement:_})]}),Object(j.jsxs)("div",{className:"location-tab__map",children:[Object(j.jsx)("h4",{className:"location-tab__description",children:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u043d\u0430 \u043a\u0430\u0440\u0442\u0435:"}),Object(j.jsx)(J,{focus:w,setCityAndPoint:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=u.find((function(t){return t.address===e})).address;O(t),_(a)},zoom:v?25:10,markers:D})]})]}):z?Object(j.jsx)("div",{children:z}):Object(j.jsx)("div",{children:"\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430"}):null},Z=a(37),W=(a(82),function(t){var e=t.name,a=t.priceMin,n=t.priceMax,c=t.image,i=t.carClick,s=t.carData,r=t.selectedCar,o=t.setSelectedCar,l=t.id;return Object(j.jsxs)("div",{className:"car-card".concat(r===l?" selected":""),onKeyDown:!0,role:"button",onClick:function(){i(s),o(l)},tabIndex:"0",children:[Object(j.jsxs)("div",{className:"car-card__info",children:[Object(j.jsx)("h2",{className:"car-card__name",children:e}),Object(j.jsxs)("h3",{className:"car-card__price",children:[a," - ",n," \u20bd"]})]}),Object(j.jsx)("img",{src:"/"===c.split("")[0]?"".concat("https://api-factory.simbirsoft1.com").concat(c):c,alt:"car",className:"car-card__image"})]})}),X=(a(83),function(t){var e=t.returnData,a=t.isActive,c=t.isCanReset,i=t.isCanResetChange,s=Object(n.useState)(),r=Object(l.a)(s,2),o=r[0],d=r[1],u=Object(n.useState)(),b=Object(l.a)(u,2),m=b[0],f=b[1],h=Object(n.useState)(),O=Object(l.a)(h,2),p=O[0],x=O[1],v=Object(n.useState)("\u0412\u0441\u0435 \u043c\u043e\u0434\u0435\u043b\u0438"),_=Object(l.a)(v,2),g=_[0],N=_[1],C=Object(n.useState)(),y=Object(l.a)(C,2),S=y[0],k=y[1];Object(n.useEffect)((function(){var t,e;t=f,e=d,fetch("".concat("https://api-factory.simbirsoft1.com","/api/db/car"),Object(A.a)({method:"GET"},B)).then((function(t){return t.json()})).then((function(e){t(e.data)}),(function(t){e(t.toString())})),function(t,e){fetch("".concat("https://api-factory.simbirsoft1.com","/api/db/category"),Object(A.a)({method:"GET"},B)).then((function(t){return t.json()})).then((function(e){t(e.data)}),(function(t){e(t.toString())}))}(k,d)}),[]),Object(n.useEffect)((function(){c&&(x(),i(!1))}),[c]);return a?!o&&m?Object(j.jsxs)("div",{className:"cars-tab",children:[Object(j.jsx)("div",{className:"cars-tab__radios radio-container",onChange:function(t){N(t.target.value)},children:["\u0412\u0441\u0435 \u043c\u043e\u0434\u0435\u043b\u0438"].concat(Object(Z.a)(S.map((function(t){return t.name})))).filter((function(t){return t.length>3&&!/[a-zA-Z]/.test(t)})).map((function(t,e){return Object(j.jsxs)("label",{className:"radio-container",htmlFor:!0,children:[Object(j.jsx)("input",{className:"radio-input",type:"radio",defaultChecked:0===e,name:"contact",value:t}),Object(j.jsx)("span",{className:"radio-text",children:t})]})}))}),Object(j.jsx)("div",{className:"cars-tab__table",children:("\u0412\u0441\u0435 \u043c\u043e\u0434\u0435\u043b\u0438"===g?m.filter((function(t){var e;return!!((null===(e=t.categoryId)||void 0===e?void 0:e.name)&&t.colors.length>0)&&t})):m.filter((function(t){var e;return!(!(null===(e=t.categoryId)||void 0===e?void 0:e.name)||t.categoryId.name!==g)&&t}))).map((function(t){return Object(j.jsx)(W,{id:t.id,setSelectedCar:x,selectedCar:p,carData:t,carClick:e,name:t.name,priceMin:t.priceMin,priceMax:t.priceMax,image:t.thumbnail.path},t.id)}))})]}):Object(j.jsx)("div",{children:"\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430"}):null}),$=function(t,e){fetch("".concat("https://api-factory.simbirsoft1.com","/api/db/rate"),Object(A.a)({method:"GET"},B)).then((function(t){return t.json()})).then((function(e){t(e.data)}),(function(t){e(t.toString())}))},tt=(a(84),["\u041f\u043e\u043b\u043d\u044b\u0439 \u0431\u0430\u043a, 500\u20bd","\u0414\u0435\u0442\u0441\u043a\u043e\u0435 \u043a\u0440\u0435\u0441\u043b\u043e, 200\u20bd","\u041f\u0440\u0430\u0432\u044b\u0439 \u0440\u0443\u043b\u044c, 1600\u20bd"]),et=a(54),at=a.n(et),nt=(a(85),a(86),function(t){var e=t.value,a=t.setValue,c=t.minDate,i=t.maxDate,s=Object(n.useState)(!1),r=Object(l.a)(s,2),o=r[0],d=r[1];return Object(j.jsxs)("div",{className:"data-time",children:[Object(j.jsx)("h3",{className:"data-time__description",children:"\u0421"}),Object(j.jsx)(at.a,{selected:e,placeholderText:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u0430\u0442\u0443 \u0438 \u0432\u0440\u0435\u043c\u044f",className:"date-time__picker",onFocus:function(){return d(!0)},onBlur:function(){return d(!1)},onChange:function(t){return a(t)},isClearable:!0,showTimeInput:!0,clearButtonClassName:"disabled",dateFormat:"dd.MM.yyyy h:mm",minDate:c||new Date,maxDate:i&&i}),Object(j.jsx)("img",{className:"data-time__close".concat(o?"":" disabled"),src:O,alt:"close",role:"none",onMouseDown:function(){a(""),d(!1)}})]})}),ct=function(t){var e=t.valueFirst,a=t.valueSecond,n=t.setValueFirst,c=t.setValueSecond;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(nt,{value:e,setValue:n,maxDate:a&&a}),Object(j.jsx)(nt,{value:a,setValue:c,minDate:n&&e})]})},it=function(t){var e=t.tariffs,a=t.time,n=t.currentTariff,c=t.setCurrentTariff,i=function(t){"tariffs"===t.target.name&&c(e.find((function(e){return e.rateTypeId.name===t.target.value})))};return Object(j.jsx)(j.Fragment,{children:e.map((function(t){return((null===a||void 0===a?void 0:a.days)||(null===a||void 0===a?void 0:a.hours))&&("\u0441\u0443\u0442\u043a\u0438"===t.rateTypeId.unit&&a.days>0||"7 \u0434\u043d\u0435\u0439"===t.rateTypeId.unit&&a.days>=7||"30 \u0434\u043d\u0435\u0439"===t.rateTypeId.unit&&a.days>=30||"\u043c\u0438\u043d"===t.rateTypeId.unit)?Object(j.jsxs)("label",{className:"radio-container",onChange:i,htmlFor:!0,children:[Object(j.jsx)("input",{className:"radio-input",type:"radio",name:"tariffs",checked:n&&n.rateTypeId.name===t.rateTypeId.name,value:t.rateTypeId.name}),Object(j.jsx)("span",{className:"radio-text",children:"".concat(t.rateTypeId.name,", ").concat(t.price,"\u20bd / ").concat(t.rateTypeId.unit)})]}):Object(j.jsxs)("label",{className:"radio-container",onChange:i,htmlFor:!0,children:[Object(j.jsx)("input",{className:"radio-input",type:"radio",name:"tariffs",disabled:!0,checked:!1}),Object(j.jsx)("span",{className:"radio-text",children:Object(j.jsx)("s",{children:t.rateTypeId.name})})]})}))})},st=function(t){var e=t.carColors,a=t.currentColor,n=t.setCurrentColor,c=function(t){"colors"===t.target.name&&n(t.target.value)};return Object(j.jsx)(j.Fragment,{children:["\u041b\u044e\u0431\u043e\u0439"].concat(Object(Z.a)(e)).map((function(t){return Object(j.jsxs)("label",{className:"radio-container",onChange:c,htmlFor:!0,children:[Object(j.jsx)("input",{className:"radio-input",type:"radio",name:"colors",value:t,checked:t===a}),Object(j.jsx)("span",{className:"radio-text",children:t})]})}))})},rt=function(t){var e=t.adds,a=t.setIsFullTank,n=t.isFullTank,c=t.setIsBabyChair,i=t.isBabyChair,s=t.setIsRighthand,r=t.isRighthand,o=function(t){t.target.value===e[0]?a(!n):t.target.value===e[1]?c(!i):t.target.value===e[2]&&s(!r)};return Object(j.jsx)(j.Fragment,{children:e.map((function(t){return Object(j.jsxs)("label",{className:"checkbox-container",htmlFor:!0,onChange:o,children:[Object(j.jsx)("input",{className:"checkbox-input",type:"checkbox",name:"adds",value:t,checked:(a=t,!(a!==e[0]||!n)||!(a!==e[1]||!i)||!(a!==e[2]||!r))}),Object(j.jsx)("span",{className:"checkbox-text",children:t})]});var a}))})},ot=Object(n.createContext)(null),lt=function(t){var e=t.isActive,a=t.carColors,c=t.returnData,i=t.isCanReset,s=t.isCanResetChange,r=Object(n.useContext)(ot).time,o=Object(n.useState)(),d=Object(l.a)(o,2),u=d[0],b=d[1],m=Object(n.useState)(null),f=Object(l.a)(m,2),h=f[0],O=f[1],p=Object(n.useState)(null),x=Object(l.a)(p,2),v=x[0],_=x[1],g=Object(n.useState)(!1),N=Object(l.a)(g,2),C=N[0],y=N[1],S=Object(n.useState)(!1),k=Object(l.a)(S,2),D=k[0],T=k[1],I=Object(n.useState)(!1),E=Object(l.a)(I,2),w=E[0],F=E[1],M=Object(n.useState)(null),R=Object(l.a)(M,2),A=R[0],B=R[1],z=Object(n.useState)(null),H=Object(l.a)(z,2),P=H[0],Y=H[1],L=Object(n.useState)(),V=Object(l.a)(L,2),G=V[0],K=V[1],U=!!u;Object(n.useEffect)((function(){_(null)}),[A,P]);return Object(n.useEffect)((function(){i&&(O(null),_(null),y(!1),T(!1),F(!1),B(null),Y(null),s(!1))}),[i]),Object(n.useEffect)((function(){c({color:h,startDate:A,endDate:P,tariff:v,isFullTank:C,isBabyChair:D,isRighthand:w})}),[h,v,A,P,C,D,w]),Object(n.useEffect)((function(){$(b,K)}),[]),e?U&&!G?Object(j.jsxs)("div",{className:"additions-tab",children:[Object(j.jsxs)("div",{className:"additions-tab__colors-container",children:[Object(j.jsx)("h3",{className:"additions-tab__description",children:"\u0426\u0432\u0435\u0442"}),Object(j.jsx)("div",{className:"additions-tab__colors",children:Object(j.jsx)(st,{carColors:a,currentColor:h,setCurrentColor:O})})]}),Object(j.jsxs)("div",{className:"additions-tab__date-container",children:[Object(j.jsx)("h3",{className:"additions-tab__description",children:"\u0414\u0430\u0442\u0430 \u0430\u0440\u0435\u043d\u0434\u044b"}),Object(j.jsx)("div",{className:"additions-tab__date",children:Object(j.jsx)(ct,{valueFirst:A,valueSecond:P,setValueFirst:B,setValueSecond:Y})})]}),Object(j.jsxs)("div",{className:"additions-tab__tariff-container",children:[Object(j.jsx)("h3",{className:"additions-tab__description",children:"\u0422\u0430\u0440\u0438\u0444"}),Object(j.jsx)("div",{className:"additions-tab__tariff",children:Object(j.jsx)(it,{tariffs:u,time:r,currentTariff:v,setCurrentTariff:_})})]}),Object(j.jsxs)("div",{className:"additions-tab__adds-container",children:[Object(j.jsx)("h3",{className:"additions-tab__description",children:"\u0414\u043e\u043f \u0443\u0441\u043b\u0443\u0433\u0438"}),Object(j.jsx)("div",{className:"additions-tab__adds",children:Object(j.jsx)(rt,{adds:tt,setIsFullTank:y,isFullTank:C,setIsBabyChair:T,isBabyChair:D,setIsRighthand:F,isRighthand:w})})]})]}):Object(j.jsx)("div",{children:"\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430"}):null},dt=(a(130),["\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u043c\u043e\u0434\u0435\u043b\u044c","\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e","\u0418\u0442\u043e\u0433\u043e","\u0417\u0430\u043a\u0430\u0437\u0430\u0442\u044c","\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"]),ut=["button-default","button-default","button-default","button-default","button-colorized-red"],bt=function(t){var e=t.point,a=t.time,c=t.price,i=t.tab,s=t.isCompleted,r=t.nextTab,o=t.additionsData,l=t.carData,d=t.isPriceCorrect,u=Object(n.useContext)(ot).setIsOrderCompleted,b=o.color,m=o.isFullTank,f=o.isBabyChair,h=o.isRighthand,O=o.tariff,p=function(t,e){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e?Object(j.jsxs)("div",{className:"bill__element",children:[Object(j.jsx)("span",{className:"bill__dots"}),Object(j.jsx)("span",{className:"bill__element-name",children:t}),Object(j.jsx)("span",{className:"bill__option",children:a?"\u0414\u0430":e})]}):null};return Object(j.jsxs)("div",{className:"bill",children:[Object(j.jsx)("h2",{className:"bill__heading",children:"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437:"}),Object(j.jsxs)("div",{className:"bill__pricelist",children:[p("\u041f\u0443\u043d\u043a\u0442 \u0432\u044b\u0434\u0430\u0447\u0438",e),p("\u041c\u043e\u0434\u0435\u043b\u044c",l&&l.name),p("\u0426\u0432\u0435\u0442",b),p("\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0430\u0440\u0435\u043d\u0434\u044b:",a),p("\u0422\u0430\u0440\u0438\u0444:",O&&O.rateTypeId.name),p("\u041f\u043e\u043b\u043d\u044b\u0439 \u0431\u0430\u043a:",m,!0),p("\u0414\u0435\u0442\u0441\u043a\u043e\u0435 \u043a\u0440\u0435\u0441\u043b\u043e:",f,!0),p("\u041f\u0440\u0430\u0432\u044b\u0439 \u0440\u0443\u043b\u044c:",h,!0)]}),c&&l?2===c.length?Object(j.jsxs)("div",{className:"bill__price",children:["\u0426\u0435\u043d\u0430: \u043e\u0442 ",c[0],"\u20bd \u0434\u043e ",c[1],"\u20bd"]}):d?Object(j.jsxs)("div",{className:"bill__price",children:["\u0426\u0435\u043d\u0430: ",c[0],"\u20bd"]}):Object(j.jsxs)("div",{className:"bill__price error",children:["\u0426\u0435\u043d\u0430: ",c[0],"\u20bd (\u043e\u0442 ",l.priceMin,"\u20bd \u0434\u043e ",l.priceMax,"\u20bd)"]}):null,s?Object(j.jsx)("button",{type:"button",onClick:3===i?function(){return u(!0)}:r,className:"bill__button ".concat(ut[i]),children:dt[i]}):Object(j.jsx)("button",{type:"button",onClick:r,disabled:!0,className:"bill__button button-disabled",children:dt[i]})]})},jt=a(43),mt=function(){var t=Object(n.useContext)(ot),e=t.time,a=t.additionsData,c=t.setTime,i=t.price,s=t.isPriceCorrect,r=t.setIsPriceCorrect,o=t.locationData,l=t.carData,d=t.currentTab,u=t.isCurrentTabCompleted,b=t.setPrice,m=t.nextTab;return Object(n.useEffect)((function(){if(a.startDate&&a.endDate&&a.startDate.toString()!==a.endDate.toString()){var t=jt(a.startDate,"DD-MM-YYYY HH:mm"),e=jt(a.endDate,"DD-MM-YYYY HH:mm").diff(t,"minutes"),n=Math.floor(e/1440),i=Math.floor(e%1440/60);return(n>0||i>0)&&c({days:n,hours:i})}return c(),!1}),[a]),Object(n.useEffect)((function(){return e&&a.tariff&&function(){var t,n=24*e.days*60,c=60*e.hours+n;"\u043c\u0438\u043d"===a.tariff.rateTypeId.unit?t=c*a.tariff.price:"\u0441\u0443\u0442\u043a\u0438"===a.tariff.rateTypeId.unit?t=c*(a.tariff.price/24/60):"7 \u0434\u043d\u0435\u0439"===a.tariff.rateTypeId.unit?t=c*(a.tariff.price/7/24/60):"30 \u0434\u043d\u0435\u0439"===a.tariff.rateTypeId.unit&&(t=c*(a.tariff.price/30/24/60)),a.isFullTank&&(t+=500),a.isBabyChair&&(t+=200),a.isRighthand&&(t+=1600),(e.hours||e.days)&&b([Math.round(t)])}()}),[e,a]),Object(n.useEffect)((function(){i&&i.length<2&&i[0]>=l.priceMin&&i[0]<=l.priceMax?r(!0):r(!1)}),[i,a]),Object(j.jsx)(bt,{point:o.city&&o.point&&"".concat(o.point.cityId.name,", ").concat(o.point.address),price:i,tab:d,isCompleted:u,nextTab:m,carData:l,time:e&&"".concat(e.days,"\u0434 ").concat(e.hours,"\u0447"),additionsData:!!a&&a,isPriceCorrect:s})},ft=(a(132),a(133),function(t){var e=t.onConfirmClick,a=Object(n.useContext)(ot),c=a.setIsOrderCompleted;return a.isOrderCompleted?Object(j.jsx)("div",{className:"modal-confirm",children:Object(j.jsxs)("div",{className:"modal-confirm__content",children:[Object(j.jsx)("h3",{className:"modal-confirm__heading",children:"\u041f\u043e\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437"}),Object(j.jsxs)("div",{className:"modal-confirm__buttons",children:[Object(j.jsx)("button",{onClick:e,type:"button",className:"modal-confirm__confirm button-default",children:"\u041f\u043e\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c"}),Object(j.jsx)("button",{onClick:function(){c(!1)},type:"button",className:"modal-confirm__cancel button-colorized-red",children:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f"})]})]})}):null}),ht=(a(134),a(43)),Ot=function(t){var e=t.carData,a=t.additionsData;return Object(j.jsxs)("div",{className:"order-card",children:[Object(j.jsxs)("div",{className:"order-card__content",children:[Object(j.jsx)("h3",{className:"order-card__car-name",children:e.name}),Object(j.jsx)("div",{className:"order-card__number car-license-card",children:function(t){if(9===t.length){var e=t.split("");return e.splice(1,0," "),e.splice(5,0," "),e.splice(8,0," "),e.join("")}return t}(e.number)}),Object(j.jsxs)("div",{className:"order-card__tank",children:[Object(j.jsx)("b",{children:"\u0422\u043e\u043f\u043b\u0438\u0432\u043e"})," ",a.isFullTank?"100%":"".concat(e.tank,"%")]}),Object(j.jsxs)("div",{className:"order-card__start",children:[Object(j.jsx)("b",{children:"\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u0430 \u0441"})," ",ht(a.startDate).format("DD.MM.YYYY HH:mm")]})]}),Object(j.jsx)("img",{alt:"car",className:"order-card__img",src:"/"===e.thumbnail.path.split("")[0]?"".concat("https://api-factory.simbirsoft1.com").concat(e.thumbnail.path):e.thumbnail.path})]})},pt=a(43),xt=function(t){var e=t.isActive,a=Object(n.useState)(!1),c=Object(l.a)(a,2),i=c[0],s=c[1],r=Object(n.useState)(),d=Object(l.a)(r,2),u=d[0],b=d[1],m=Object(n.useState)(),f=Object(l.a)(m,2),h=f[0],O=f[1],p=Object(n.useContext)(ot),x=p.additionsData,v=p.carData,_=p.locationData,g=p.price;Object(n.useEffect)((function(){var t,e;t=b,e=s,fetch("".concat("https://api-factory.simbirsoft1.com","/api/db/orderStatus"),Object(A.a)({method:"GET"},B)).then((function(t){return t.json()})).then((function(e){t(e.data)}),(function(t){e(t.toString())}))}),[]);return(null===h||void 0===h?void 0:h.id)?Object(j.jsx)(o.a,{to:"/myorder/".concat(h.id)}):!e||i?null:Object(j.jsxs)("div",{className:"summary-tab",children:[Object(j.jsx)(ft,{onConfirmClick:function(){if(u){var t=u.find((function(t){return"\u041d\u043e\u0432\u044b\u0435"===t.name}));e={orderStatusId:{id:t.id},cityId:{id:_.city.id},pointId:{id:_.point.id},carId:{id:v.id},color:x.color,dateFrom:pt(x.startDate).valueOf(),dateTo:pt(x.endDate).valueOf(),rateId:{id:x.tariff.id},price:g,isFullTank:x.isFullTank,isNeedChildChair:x.isBabyChair,isRightWheel:x.isRighthand},a=O,n=s,fetch("".concat("https://api-factory.simbirsoft1.com","/api/db/order"),Object(A.a)({method:"POST",body:JSON.stringify(e)},B)).then((function(t){return t.json()})).then((function(t){a(t.data)}),(function(t){n(t.toString())}))}var e,a,n}}),Object(j.jsx)(Ot,{additionsData:x,carData:v})]})},vt={color:null,startDate:null,endDate:null,tariff:null,isFullTank:!1,isBabyChair:!1,isRighthand:!1},_t=[{isCompleted:!1},{isCompleted:!1},{isCompleted:!1},{isCompleted:!1}],gt=function(){var t=Object(n.useState)(!0),e=Object(l.a)(t,2),a=e[0],c=e[1],i=Object(n.useState)(0),s=Object(l.a)(i,2),r=s[0],o=s[1],d=Object(n.useState)({city:null,point:null}),u=Object(l.a)(d,2),b=u[0],m=u[1],h=Object(n.useState)(),O=Object(l.a)(h,2),p=O[0],v=O[1],g=Object(n.useState)(vt),N=Object(l.a)(g,2),C=N[0],y=N[1],S=Object(n.useState)(),k=Object(l.a)(S,2),D=k[0],T=k[1],I=Object(n.useState)(),E=Object(l.a)(I,2),w=E[0],F=E[1],M=Object(n.useState)(!1),A=Object(l.a)(M,2),B=A[0],z=A[1],H=Object(n.useState)(!1),P=Object(l.a)(H,2),Y=P[0],L=P[1],V=Object(n.useState)(!1),G=Object(l.a)(V,2),K=G[0],U=G[1],J=Object(n.useState)(!1),q=Object(l.a)(J,2),Z=q[0],W=q[1],$=Object(n.useState)(_t),tt=Object(l.a)($,2),et=tt[0],at=tt[1],nt=Object(n.useState)(!1),ct=Object(l.a)(nt,2),it=ct[0],st=ct[1],rt=function(){L(!0),y(vt),T()};Object(n.useEffect)((function(){rt(),p&&F([p.priceMin,p.priceMax])}),[p]),Object(n.useEffect)((function(){rt(),U(!0),v()}),[b]);var dt=function(t,e){var a=et;a[t].isCompleted=e,at(a)};Object(n.useEffect)((function(){b.city&&b.point?dt(0,!0):dt(0,!1),dt(1,!!p),Object.values(C).every((function(t){return null!==t}))&&Z?(dt(2,!0),dt(3,!0)):(dt(2,!1),dt(3,!1))}),[p,b,C,w]);return Object(n.useEffect)((function(){z(et[r].isCompleted)}),[b,p,C,r,w]),Object(j.jsx)("div",{className:"order-page",children:Object(j.jsxs)(ot.Provider,{value:{time:D,additionsData:C,setTime:T,price:w,isPriceCorrect:Z,setIsPriceCorrect:W,locationData:b,carData:p,currentTab:r,isCurrentTabCompleted:B,setPrice:F,nextTab:function(){o(r+1)},isOrderCompleted:it,setIsOrderCompleted:st},children:[Object(j.jsx)(x,{isBurgerHiding:a,setIsBurgerHiding:c}),Object(j.jsx)(f,{isHiding:a}),Object(j.jsxs)("div",{className:"order-page__content",children:[Object(j.jsx)(_,{addClassname:"order-page-padding"}),Object(j.jsx)(R,{completedSteps:et.filter((function(t){return!0===t.isCompleted})).length,currentStep:r,onBreadcrumbClick:function(t){et[t]&&o(t)}}),Object(j.jsxs)("div",{className:"order-page__tabs",children:[Object(j.jsx)(Q,{isActive:0===r,returnData:m}),Object(j.jsx)(X,{isActive:1===r,returnData:v,isCanReset:K,isCanResetChange:U}),Object(j.jsx)(lt,{isActive:2===r,carColors:p&&p.colors,returnData:y,isCanReset:Y,isCanResetChange:L}),Object(j.jsx)(xt,{isActive:3===r}),Object(j.jsx)(mt,{})]})]})]})})};var Nt=function(){return Object(j.jsx)("div",{className:"wrapper",children:Object(j.jsx)(r.a,{children:Object(j.jsxs)(o.d,{children:[Object(j.jsx)(o.b,{path:"/order",children:Object(j.jsx)(gt,{})}),Object(j.jsx)(o.b,{path:"/main",children:Object(j.jsx)(w,{})}),Object(j.jsx)(o.b,{path:"/myorder/:id",children:Object(j.jsx)(F,{})}),Object(j.jsx)(o.a,{to:"/main"})]})})})};a(135);s.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(Nt,{})}),document.getElementById("root"))},63:function(t,e,a){},65:function(t,e,a){},66:function(t,e,a){},67:function(t,e,a){},75:function(t,e,a){},76:function(t,e,a){},77:function(t,e,a){},78:function(t,e,a){},79:function(t,e,a){},80:function(t,e,a){},81:function(t,e,a){},82:function(t,e,a){},83:function(t,e,a){},84:function(t,e,a){},86:function(t,e,a){}},[[137,1,2]]]);
//# sourceMappingURL=main.5d2a16eb.chunk.js.map