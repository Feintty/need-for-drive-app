(this["webpackJsonpneed-for-drive"]=this["webpackJsonpneed-for-drive"]||[]).push([[0],{135:function(e,t,a){},136:function(e,t,a){},138:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),i=a(18),s=a.n(i),r=a(21),o=a(6),d=a(5),l=(a(63),a.p+"static/media/telegram.09f73cfe.svg"),u=a.p+"static/media/instagram.5e14e95a.svg",j=a.p+"static/media/facebook.01c0ca6a.svg",b=a(0),m=function(e){var t=e.isHiding,a=Object(n.useState)(!0),c=Object(d.a)(a,2),i=c[0],s=c[1],r=[Object(b.jsx)("li",{href:"/",className:"burger-nav__link link-dark",children:"\u041f\u0410\u0420\u041a\u041e\u0412\u041a\u0410"}),Object(b.jsx)("li",{href:"/",className:"burger-nav__link link-dark",children:"\u0421\u0422\u0420\u0410\u0425\u041e\u0412\u041a\u0410"}),Object(b.jsx)("li",{href:"/",className:"burger-nav__link link-dark",children:"\u0411\u0415\u041d\u0417\u0418\u041d"}),Object(b.jsx)("li",{href:"/",className:"burger-nav__link link-dark",children:"\u041e\u0411\u0421\u041b\u0423\u0416\u0418\u0412\u0410\u041d\u0418\u0415"})];return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:t?"burger-nav--main hide":"burger-nav--main",children:[Object(b.jsx)("ul",{className:"burger-nav__container",children:r.map((function(e){return e}))}),Object(b.jsxs)("div",{className:"burger-nav__socials",children:[Object(b.jsx)("img",{alt:"icon",src:l,className:"socials__icon"}),Object(b.jsx)("img",{alt:"icon",src:j,className:"socials__icon"}),Object(b.jsx)("img",{alt:"icon",src:u,className:"socials__icon"})]}),Object(b.jsx)("button",{type:"button",className:"lang__button--burger button-round",onClick:function(){return s(!i)},children:i?Object(b.jsx)("h4",{children:"Eng"}):Object(b.jsx)("h4",{children:"\u0420\u0443\u0441"})})]}),Object(b.jsx)("div",{className:t?"burger-nav--second hide":"burger-nav--second"})]})};m.defaultProps={isHiding:"true"};var f=m,h=(a(65),a.p+"static/media/sidebar-burger.33a03786.svg"),O=a.p+"static/media/close.1d4598cc.svg",p=function(e){var t=e.isBurgerHiding,a=e.setIsBurgerHiding,c=Object(n.useState)(!0),i=Object(d.a)(c,2),s=i[0],r=i[1],o=Object(n.useState)(!0),l=Object(d.a)(o,2),u=l[0],j=l[1];return Object(b.jsxs)("div",{className:"side-bar",children:[Object(b.jsx)("aside",{className:"side-bar__burger",children:Object(b.jsx)("button",{type:"button",className:"burger__button button-nullstyle",onClick:function(){j(!u),a(!t)},children:Object(b.jsx)("img",{alt:"burger",className:u?"burger__img":"burger__img--close",src:u?h:O})})}),Object(b.jsx)("aside",{className:"side-bar__lang",children:Object(b.jsx)("button",{type:"button",className:"lang__button button-round",onClick:function(){return r(!s)},children:s?Object(b.jsx)("h4",{children:"Eng"}):Object(b.jsx)("h4",{children:"\u0420\u0443\u0441"})})})]})};p.defaultProps={isBurgerHiding:!0,setIsBurgerHiding:void 0};var x=p,g=(a(66),a.p+"static/media/destination.480be180.svg"),_=(a(67),function(e){var t=e.addClassname;return Object(b.jsxs)("header",{className:t?"header ".concat(t):"header",children:[Object(b.jsx)("h1",{className:"header__logo",children:"Need for drive"}),Object(b.jsxs)("div",{className:"header__destination",children:[Object(b.jsx)("img",{alt:"destination-pin",src:g,className:"destination__icon"}),Object(b.jsx)("div",{className:"destination__name",children:"\u0423\u043b\u044c\u044f\u043d\u043e\u0432\u0441\u043a"})]})]})}),v=function(){return Object(b.jsxs)("div",{className:"start-screen",children:[Object(b.jsx)(_,{addClassname:"main-page-padding"}),Object(b.jsxs)("div",{className:"start-screen__content",children:[Object(b.jsx)("h2",{className:"content__heading-main",children:"\u041a\u0430\u0440\u0448\u0435\u0440\u0438\u043d\u0433"}),Object(b.jsx)("h2",{className:"content__heading-second",children:"Need for drive"}),Object(b.jsx)("h3",{className:"content__subheading",children:"\u041f\u043e\u043c\u0438\u043d\u0443\u0442\u043d\u0430\u044f \u0430\u0440\u0435\u043d\u0434\u0430 \u0430\u0432\u0442\u043e \u0442\u0432\u043e\u0435\u0433\u043e \u0433\u043e\u0440\u043e\u0434\u0430"}),Object(b.jsx)(r.b,{to:"/order",children:Object(b.jsx)("button",{type:"button",className:"content__button button-default",children:"\u0417\u0430\u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})})]}),Object(b.jsxs)("footer",{className:"start-screen__footer",children:[Object(b.jsx)("h4",{className:"footer__info",children:"\xa9 2016-2019 \xabNeed for drive\xbb"}),Object(b.jsx)("a",{href:"tel:+8(495)234-22-44",className:"footer__number link-light",children:"8 (495) 234-22-44"})]})]})},N=(a(75),a.p+"static/media/car-1-min.411cb375.png"),y=a.p+"static/media/car-2-min.7bcfc4ae.png",C=a.p+"static/media/car-3-min.c4d0f466.png",S=a.p+"static/media/car-4-min.bb1a5d29.png",I=a.p+"static/media/arrow-left.1752ae91.svg",k=a.p+"static/media/arrow-right.7591c327.svg",T=["button-colorized-green","button-colorized-mint","button-colorized-red","button-colorized-purple"],D=["\u041e\u0441\u0442\u0430\u0432\u043b\u044f\u0439\u0442\u0435 \u043c\u0430\u0448\u0438\u043d\u0443 \u043d\u0430 \u043f\u043b\u0430\u0442\u043d\u044b\u0445 \u0433\u043e\u0440\u043e\u0434\u0441\u043a\u0438\u0445 \u043f\u0430\u0440\u043a\u043e\u0432\u043a\u0430\u0445 \u0438 \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u043d\u044b\u0445 \u043c\u0435\u0441\u0442\u0430\u0445, \u043d\u0435 \u043d\u0430\u0440\u0443\u0448\u0430\u044f \u041f\u0414\u0414, \u0430 \u0442\u0430\u043a\u0436\u0435 \u0432 \u0430\u044d\u0440\u043e\u043f\u043e\u0440\u0442\u0430\u0445.","\u041f\u043e\u043b\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u0445\u043e\u0432\u043a\u0430 \u0441\u0442\u0440\u0430\u0445\u043e\u0432\u043a\u0430 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u044f","\u041f\u043e\u043b\u043d\u044b\u0439 \u0431\u0430\u043a \u043d\u0430 \u043b\u044e\u0431\u043e\u0439 \u0437\u0430\u043f\u0440\u0430\u0432\u043a\u0435 \u0433\u043e\u0440\u043e\u0434\u0430 \u0437\u0430 \u043d\u0430\u0448 \u0441\u0447\u0451\u0442","\u0410\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u044c \u043f\u0440\u043e\u0445\u043e\u0434\u0438\u0442 \u0435\u0436\u0435\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u043e\u0435 \u0422\u041e"],F=function(){var e=Object(n.useState)(0),t=Object(d.a)(e,2),a=t[0],c=t[1],i=[N,y,C,S];return Object(b.jsxs)("div",{className:"slider",children:[Object(b.jsx)("img",{src:i[a],alt:"background",className:"slider__image"}),Object(b.jsx)("div",{onClick:function(){c(0===a?3:a-1)},onKeyPress:!0,className:"slider__control--left",role:"button",tabIndex:"0",children:Object(b.jsx)("img",{src:I,alt:"left_arrow",className:"control__image"})}),Object(b.jsxs)("article",{className:"slider__article",children:[Object(b.jsx)("h2",{className:"slider__heading",children:["\u0411\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u0430\u044f \u043f\u0430\u0440\u043a\u043e\u0432\u043a\u0430","\u0421\u0442\u0440\u0430\u0445\u043e\u0432\u043a\u0430","\u0411\u0435\u043d\u0437\u0438\u043d","\u041e\u0431\u0441\u043b\u0443\u0436\u0438\u0432\u0430\u043d\u0438\u0435"][a]}),Object(b.jsx)("section",{className:"slider__section",children:D[a]}),Object(b.jsx)("button",{type:"button",className:"slider__button ".concat(T[a]),children:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"})]}),Object(b.jsx)("div",{className:"slider__state",children:new Array(4).fill().map((function(e,t){return Object(b.jsx)("div",{className:a===t?"state__dot active":"state__dot"})}))}),Object(b.jsx)("div",{onKeyPress:!0,onClick:function(){c(3===a?0:a+1)},role:"button",tabIndex:"0",className:"slider__control--right",children:Object(b.jsx)("img",{src:k,alt:"right_arrow",className:"control__image"})})]})},E=(a(76),function(){var e=Object(n.useState)(!0),t=Object(d.a)(e,2),a=t[0],c=t[1];return Object(b.jsxs)("div",{className:"main-page",children:[Object(b.jsx)(x,{isBurgerHiding:a,setIsBurgerHiding:c}),Object(b.jsx)(v,{}),Object(b.jsx)(f,{isHiding:a}),Object(b.jsx)(F,{})]})}),w=a(7),M={headers:{"X-Api-Factory-Application-Id":"5e25c641099b810b946c5d5b",Authorization:"Bearer 52efbe08228671240494f537f2486bc109a637b4","Content-Type":"application/json"}},R=(a(77),a(78),["\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u043c\u043e\u0434\u0435\u043b\u044c","\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e","\u0418\u0442\u043e\u0433\u043e","\u0417\u0430\u043a\u0430\u0437\u0430\u0442\u044c","\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"]),B=["button-default","button-default","button-default","button-default","button-colorized-red"],H=function(e){var t=e.point,a=e.time,n=e.price,c=e.tab,i=e.isCompleted,s=e.nextTab,r=e.additionsData,o=e.carData,d=e.isPriceCorrect,l=e.setIsOrderCompleted,u=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t?Object(b.jsxs)("div",{className:"bill__element",children:[Object(b.jsx)("span",{className:"bill__dots"}),Object(b.jsx)("span",{className:"bill__element-name",children:e}),Object(b.jsx)("span",{className:"bill__option",children:a?"\u0414\u0430":t})]}):null};return Object(b.jsxs)("div",{className:"bill",children:[Object(b.jsx)("h2",{className:"bill__heading",children:"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437:"}),Object(b.jsxs)("div",{className:"bill__pricelist",children:[u("\u041f\u0443\u043d\u043a\u0442 \u0432\u044b\u0434\u0430\u0447\u0438",t),u("\u041c\u043e\u0434\u0435\u043b\u044c",o&&o.name),u("\u0426\u0432\u0435\u0442",r.color),u("\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0430\u0440\u0435\u043d\u0434\u044b:",a),u("\u0422\u0430\u0440\u0438\u0444:",r.tariff&&r.tariff.rateTypeId.name),u("\u041f\u043e\u043b\u043d\u044b\u0439 \u0431\u0430\u043a:",r.isFullTank,!0),u("\u0414\u0435\u0442\u0441\u043a\u043e\u0435 \u043a\u0440\u0435\u0441\u043b\u043e:",r.isBabyChair,!0),u("\u041f\u0440\u0430\u0432\u044b\u0439 \u0440\u0443\u043b\u044c:",r.isRighthand,!0)]}),n&&o?2===n.length?Object(b.jsxs)("div",{className:"bill__price",children:["\u0426\u0435\u043d\u0430: \u043e\u0442 ",n[0],"\u20bd \u0434\u043e ",n[1],"\u20bd"]}):d?Object(b.jsxs)("div",{className:"bill__price",children:["\u0426\u0435\u043d\u0430: ",n[0],"\u20bd"]}):Object(b.jsxs)("div",{className:"bill__price error",children:["\u0426\u0435\u043d\u0430: ",n[0],"\u20bd (\u043e\u0442 ",o.priceMin,"\u20bd \u0434\u043e ",o.priceMax,"\u20bd)"]}):null,i?Object(b.jsx)("button",{type:"button",onClick:3===c?function(){return l(!0)}:s,className:"bill__button ".concat(B[c]),children:R[c]}):Object(b.jsx)("button",{type:"button",onClick:s,disabled:!0,className:"bill__button button-disabled",children:R[c]})]})},A=(a(79),a(31)),Y=function(e){var t=e.carData,a=e.additionsData;return Object(b.jsxs)("div",{className:"order-card",children:[Object(b.jsxs)("div",{className:"order-card__content",children:[Object(b.jsx)("h3",{className:"order-card__car-name",children:t.name}),Object(b.jsx)("div",{className:"order-card__number car-license-card",children:function(e){if(e&&9===e.length){var t=e.split("");return t.splice(1,0," "),t.splice(5,0," "),t.splice(8,0," "),t.join("")}return e&&e.length>3?e:"\u043d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445"}(t.number)}),Object(b.jsxs)("div",{className:"order-card__tank",children:[Object(b.jsx)("b",{children:"\u0422\u043e\u043f\u043b\u0438\u0432\u043e"})," ",a.isFullTank?"100%":"".concat(t.tank?"".concat(t.tank,"%"):"\u043d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445")]}),Object(b.jsxs)("div",{className:"order-card__start",children:[Object(b.jsx)("b",{children:"\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u0430 \u0441"})," ",A(a.startDate).format("DD.MM.YYYY HH:mm")]})]}),Object(b.jsx)("img",{alt:"car",className:"order-card__img",src:"/"===t.thumbnail.path.split("")[0]?"".concat("https://api-factory.simbirsoft1.com").concat(t.thumbnail.path):t.thumbnail.path})]})},P=a(31),z=function(e,t){if(e&&t&&e.toString()!==t.toString()){var a=P(e,"DD-MM-YYYY HH:mm"),n=P(t,"DD-MM-YYYY HH:mm").diff(a,"minutes");return{days:Math.floor(n/1440),hours:Math.floor(n%1440/60)}}return null},L=function(e,t){var a,n=24*e.days*60,c=60*e.hours+n;return"\u043c\u0438\u043d"===t.tariff.rateTypeId.unit?a=c*t.tariff.price:"\u0441\u0443\u0442\u043a\u0438"===t.tariff.rateTypeId.unit?a=c*(t.tariff.price/24/60):"7 \u0434\u043d\u0435\u0439"===t.tariff.rateTypeId.unit?a=c*(t.tariff.price/7/24/60):"30 \u0434\u043d\u0435\u0439"===t.tariff.rateTypeId.unit&&(a=c*(t.tariff.price/30/24/60)),t.isFullTank&&(a+=500),t.isBabyChair&&(a+=200),t.isRighthand&&(a+=1600),e.hours||e.days?[Math.round(a)]:null},V=(a(81),function(e){var t=e.onConfirmClick,a=e.isOpened,n=e.setIsOpened,c=e.isCancel;return a?Object(b.jsx)("div",{className:"modal-confirm",children:Object(b.jsxs)("div",{className:"modal-confirm__content",children:[Object(b.jsx)("h3",{className:"modal-confirm__heading",children:c?"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437":"\u041f\u043e\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437"}),Object(b.jsxs)("div",{className:"modal-confirm__buttons",children:[Object(b.jsx)("button",{onClick:t,type:"button",className:"modal-confirm__confirm button-default",children:"\u041f\u043e\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c"}),Object(b.jsx)("button",{onClick:function(){n(!1)},type:"button",className:"modal-confirm__cancel button-colorized-red",children:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f"})]})]})}):null}),G=a(31),U=function(){var e=Object(o.g)().id,t=Object(n.useState)(),a=Object(d.a)(t,2),c=a[0],i=a[1],s=Object(n.useState)(!1),r=Object(d.a)(s,2),l=r[0],u=r[1],j=Object(n.useState)(!0),m=Object(d.a)(j,2),h=m[0],O=m[1],p=Object(n.useState)(null),g=Object(d.a)(p,2),v=g[0],N=g[1],y=Object(n.useState)(!1),C=Object(d.a)(y,2),S=C[0],I=C[1];Object(n.useEffect)((function(){!function(e,t,a){fetch("".concat("https://api-factory.simbirsoft1.com","/api/db/order/").concat(e),Object(w.a)({method:"GET"},M)).then((function(e){return e.json()})).then((function(e){console.log(e.data),t(e.data)}),(function(e){a(e.toString())}))}(e,i,u)}),[e]);var k=function(){return{color:c.color,startDate:c.dateFrom,endDate:c.dateTo,tariff:c.rateId,isFullTank:c.isFullTank,isBabyChair:c.isNeedChildChair,isRighthand:c.isRightWheel}};return Object(n.useEffect)((function(){if(c){var e=G(c.dateFrom).format("DD-MM-YYYY HH:mm"),t=G(c.dateTo).format("DD-MM-YYYY HH:mm");N(z(e,t))}}),[c]),l?Object(b.jsxs)("div",{className:"myorder-page",children:[Object(b.jsx)(x,{isBurgerHiding:h,setIsBurgerHiding:O}),Object(b.jsx)(f,{isHiding:h}),Object(b.jsxs)("div",{className:"myorder-page__wrap",children:[Object(b.jsx)(_,{addClassname:"myorder-page-padding"}),Object(b.jsx)("div",{className:"myorder-page__id",children:Object(b.jsx)("h3",{children:"\u0417\u0430\u043a\u0430\u0437 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d"})}),Object(b.jsx)("div",{className:"myorder-page__content",children:Object(b.jsx)("h3",{className:"myorder-page__heading",children:"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442"})})]})]}):c&&v?Object(b.jsxs)("div",{className:"myorder-page",children:[Object(b.jsx)(V,{onConfirmClick:function(){!function(e,t,a,n){fetch("".concat("https://api-factory.simbirsoft1.com","/api/db/order/").concat(e),Object(w.a)(Object(w.a)({method:"PUT"},M),{},{body:JSON.stringify(t)})).then((function(e){return e.json()})).then((function(e){a(e.data)}),(function(e){n(e.toString())}))}(e,{orderStatusId:"5e26a1f5099b810b946c5d8c",cityId:c.cityId.id,pointId:c.pointId.id,carId:c.carId.id,rateId:c.rateId.id,dateFrom:c.dateFrom,dateTo:c.dateTo,color:c.color,price:c.price,isFullTank:c.isFullTank,isNeedChildChair:c.isNeedChildChair,isRightWheel:c.isRightWheel},i,u),I(!1)},isOpened:S,setIsOpened:I,isCancel:!0}),Object(b.jsx)(x,{isBurgerHiding:h,setIsBurgerHiding:O}),Object(b.jsx)(f,{isHiding:h}),Object(b.jsxs)("div",{className:"myorder-page__wrap",children:[Object(b.jsx)(_,{addClassname:"myorder-page-padding"}),Object(b.jsx)("div",{className:"myorder-page__id",children:Object(b.jsxs)("h3",{children:["\u0417\u0430\u043a\u0430\u0437 \u043d\u043e\u043c\u0435\u0440 ",e]})}),Object(b.jsxs)("div",{className:"myorder-page__content",children:[Object(b.jsxs)("div",{className:"myorder-page__order-details",children:[Object(b.jsx)("h3",{className:"myorder-page__heading",children:"\u041d\u043e\u0432\u044b\u0435"===c.orderStatusId.name?"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437 \u043f\u043e\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d":"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437 \u043e\u0442\u043c\u0435\u043d\u0435\u043d"}),Object(b.jsx)(Y,{carData:c.carId,additionsData:k()})]}),Object(b.jsx)(H,{point:"".concat(c.cityId.name,", ").concat(c.pointId.address),tab:4,time:v&&"".concat(v.days,"\u0434 ").concat(v.hours,"\u0447"),price:L(v,k()),isCompleted:"\u041d\u043e\u0432\u044b\u0435"===c.orderStatusId.name,nextTab:function(){return I(!0)},additionsData:k(),carData:c.carId,isPriceCorrect:!0})]})]})]}):Object(b.jsx)("div",{children:"\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430"})},K=(a(82),a(83),a.p+"static/media/arrow-breadcrumbs.3f54b55d.svg"),J=function(e){var t,a,n=e.completedSteps,c=e.currentStep,i=e.onBreadcrumbClick,s=["\u041c\u0435\u0441\u0442\u043e\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435","\u041c\u043e\u0434\u0435\u043b\u044c","\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e","\u0418\u0442\u043e\u0433\u043e"],r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2?arguments[2]:void 0;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("button",{onClick:function(){return i(a)},type:"button",className:"breadcrumbs__element".concat(" ".concat(t)),children:[" ",e]}),Object(b.jsx)("img",{src:K,alt:"sep"})]})};return Object(b.jsx)("div",{className:"breadcrumbs",children:(t=n,a=c,s.map((function(e,n){return n===a?r(e,"current",n):n<=t?r(e,"completed",n):r(e)})))})},W=(a(84),a(85),a(147)),q=a(148),Q=a(149),Z=a(150),X=a(17),$=a.n(X),ee=a.p+"static/media/marker.c961018a.svg",te=new $.a.Icon({iconUrl:ee,iconRetinaUrl:ee,iconAnchor:null,popupAnchor:null,shadowUrl:null,shadowSize:null,shadowAnchor:null,iconSize:new $.a.Point(18,18),className:"leaflet-div-icon"});function ae(e){var t=e.position,a=e.zoom,n=Object(W.a)();return n.setView(t),n.setZoom(a),null}var ne=function(e){var t=e.focus,a=e.zoom,n=e.markers,c=e.setCityAndPoint;return Object(b.jsxs)(Q.a,{className:"map",attributionControl:!1,zoomControl:!1,center:t,zoom:a,dragging:!0,animate:!0,easeLinearity:.35,children:[Object(b.jsx)(Z.a,{attribution:'\xa9 <a href="https://stadiamaps.com/">Stadia Maps</a>, \xa9 <a href="https://openmaptiles.org/">OpenMapTiles</a> \xa9 <a href="http://openstreetmap.org">OpenStreetMap</a> contributors',url:"https://tiles.stadiamaps.com/tiles/alidade_smooth/{z}/{x}/{y}{r}.png?api_key=".concat("b4b52b45-73fc-4229-ad23-4bf5255d0f7f")}),n.map((function(e){var t=e.locations.find((function(e){return"RU"===e.adminArea1})).latLng,a=e.providedLocation.location.split(",")[0],n=e.providedLocation.location.split(",").slice(1).toString();return Object(b.jsx)(q.a,{position:[t.lat,t.lng],icon:te,city:a,address:n,fullAddress:e.providedLocation.location,eventHandlers:{mousedown:function(e){c(e.target.options.city,e.target.options.address)}}})})).map((function(e){return e})),Object(b.jsx)(ae,{position:t,zoom:a})]})},ce=(a(86),function(e){var t=e.description,a=e.placeholder,c=e.datalistItems,i=e.setDataElement,s=e.text,r=Object(n.useState)(s),o=Object(d.a)(r,2),l=o[0],u=o[1],j=Object(n.useState)(),m=Object(d.a)(j,2),f=m[0],h=m[1],p=Object(n.useState)(!1),x=Object(d.a)(p,2),g=x[0],_=x[1],v=Object(n.useState)(!1),N=Object(d.a)(v,2),y=N[0],C=N[1];Object(n.useEffect)((function(){u(s),i(s)}),[s]);var S=function(e){i&&i(e.target.innerText),u(e.target.innerText)};return Object(n.useEffect)((function(){c&&""!==l?h(c.filter((function(e){return RegExp("^".concat(l.toLowerCase())).test(e.toLowerCase())}))):c&&h(c)}),[c,l]),Object(b.jsxs)("div",{className:"text-input",children:[Object(b.jsx)("span",{className:"text-input__description",children:t}),Object(b.jsx)("input",{value:l,onChange:function(e){u(e.target.value)},onFocus:function(){_(!0),C(!0)},onBlur:function(){_(!1),C(!1)},placeholder:a,className:"text-input__text-field",type:"text"}),Object(b.jsx)("img",{onKeyPress:!0,alt:"close",role:"none",onMouseDown:function(){u(""),i("")},className:g?"text-input__close":"text-input__close disabled",src:O}),Object(b.jsx)("div",{className:y?"text-input__datalist":"text-input__datalist disabled",children:f&&f.map((function(e){return Object(b.jsx)("span",{className:"text-input__data-element",onMouseDown:S,role:"none",children:e})}))})]})}),ie=function(e){var t=e.returnData,a=e.isActive,c=Object(n.useState)(),i=Object(d.a)(c,2),s=i[0],r=i[1],o=Object(n.useState)(),l=Object(d.a)(o,2),u=l[0],j=l[1],m=Object(n.useState)(""),f=Object(d.a)(m,2),h=f[0],O=f[1],p=Object(n.useState)(""),x=Object(d.a)(p,2),g=x[0],_=x[1],v=Object(n.useState)(),N=Object(d.a)(v,2),y=N[0],C=N[1],S=Object(n.useState)(),I=Object(d.a)(S,2),k=I[0],T=I[1],D=Object(n.useState)([54.3107593,48.3642771]),F=Object(d.a)(D,2),E=F[0],R=F[1],B=Object(n.useState)(),H=Object(d.a)(B,2),A=H[0],Y=H[1],P=function(e){var t=new RegExp(/[0-9]|\u0413\u043e\u0440\u043e\u0434/);return u.filter((function(a){return!(!Object.prototype.hasOwnProperty.call(a,"cityId")||null===a.cityId||t.test(a.cityId.name)||a.cityId.name!==e)&&a}))};return Object(n.useEffect)((function(){var e,t;e=r,t=Y,fetch("".concat("https://api-factory.simbirsoft1.com","/api/db/city"),Object(w.a)({method:"GET"},M)).then((function(e){return e.json()})).then((function(t){e(t.data)}),(function(e){t(e.toString())})),function(e,t){fetch("".concat("https://api-factory.simbirsoft1.com","/api/db/point"),Object(w.a)({method:"GET"},M)).then((function(e){return e.json()})).then((function(t){e(t.data)}),(function(e){t(e.toString())}))}(j,Y)}),[]),Object(n.useEffect)((function(){s&&(function(e,t,a){var n=a.map((function(e){return"&location=".concat(e.name)})).join("");fetch("".concat("https://www.mapquestapi.com/geocoding/v1/batch?key=").concat("m7wozl03nRKYFAjrN5sQTfYD4V501kD8").concat(n),{method:"GET"}).then((function(e){return e.json()})).then((function(t){e(t.results)}),(function(e){t(e.toString())}))}(C,Y,s),u&&function(e,t,a,n){var c=a.map((function(e){return n(e.name)})).filter((function(e){return 0!==e.length})).flat(1).reduce((function(e,t){return"".concat(e,"&location=").concat(t.cityId.name,",").concat(t.address)}),"");fetch("".concat("https://www.mapquestapi.com/geocoding/v1/batch?key=").concat("m7wozl03nRKYFAjrN5sQTfYD4V501kD8").concat(c),{method:"GET"}).then((function(e){return e.json()})).then((function(t){e(t.results)}),(function(e){t(e.toString())}))}(T,Y,s,P))}),[s,u]),Object(n.useEffect)((function(){if(h&&y&&R(function(e){var t=y.find((function(t){return t.providedLocation.location===e})).locations.find((function(e){return"RU"===e.adminArea1}));return[t.latLng.lat,t.latLng.lng]}(h)),u&&g){var e=s.find((function(e){return e.name===h})),a=u.find((function(e){return e.address===g}));t({city:e,point:a})}}),[h,g]),Object(n.useEffect)((function(){g&&k&&R(function(e){var t="".concat(h,",").concat(u.find((function(t){return t.address===e})).address),a=k.find((function(e){return e.providedLocation.location===t})).locations.find((function(e){return"RU"===e.adminArea1}));return[a.latLng.lat,a.latLng.lng]}(g))}),[g]),a?s&&u&&k&&y&&!A?Object(b.jsxs)("div",{className:"location-tab",children:[Object(b.jsxs)("div",{className:"location-tab__inputs",children:[Object(b.jsx)(ce,{text:h,description:"\u0413\u043e\u0440\u043e\u0434",placeholder:"\u041d\u0430\u0447\u043d\u0438\u0442\u0435 \u0432\u0432\u043e\u0434\u0438\u0442\u044c \u0433\u043e\u0440\u043e\u0434 ...",datalistItems:s?s.filter((function(e){return/^[\u0430-\u044f\u0410-\u042f]*$/.test(e.name)})).map((function(e){return e.name})):s.map((function(e){return e.name})),setDataElement:O}),Object(b.jsx)(ce,{text:g,description:"\u041f\u0443\u043d\u043a\u0442 \u0432\u044b\u0434\u0430\u0447\u0438",placeholder:"\u041d\u0430\u0447\u043d\u0438\u0442\u0435 \u0432\u0432\u043e\u0434\u0438\u0442\u044c \u043f\u0443\u043d\u043a\u0442 ...",datalistItems:h?P(h).map((function(e){return e.address})):u.map((function(e){return e.address})),setDataElement:_})]}),Object(b.jsxs)("div",{className:"location-tab__map",children:[Object(b.jsx)("h4",{className:"location-tab__description",children:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u043d\u0430 \u043a\u0430\u0440\u0442\u0435:"}),Object(b.jsx)(ne,{focus:E,setCityAndPoint:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=u.find((function(e){return e.address===t})).address;O(e),_(a)},zoom:g?25:10,markers:k})]})]}):A?Object(b.jsx)("div",{children:A}):Object(b.jsx)("div",{children:"\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430"}):null},se=a(38),re=(a(87),function(e){var t=e.name,a=e.priceMin,n=e.priceMax,c=e.image,i=e.carClick,s=e.carData,r=e.selectedCar,o=e.setSelectedCar,d=e.id;return Object(b.jsxs)("div",{className:"car-card".concat(r===d?" selected":""),onKeyDown:!0,role:"button",onClick:function(){i(s),o(d)},tabIndex:"0",children:[Object(b.jsxs)("div",{className:"car-card__info",children:[Object(b.jsx)("h2",{className:"car-card__name",children:t}),Object(b.jsxs)("h3",{className:"car-card__price",children:[a," - ",n," \u20bd"]})]}),Object(b.jsx)("img",{src:"/"===c.split("")[0]?"".concat("https://api-factory.simbirsoft1.com").concat(c):c,alt:"car",className:"car-card__image"})]})}),oe=(a(88),function(e){var t=e.returnData,a=e.isActive,c=e.isCanReset,i=e.isCanResetChange,s=Object(n.useState)(),r=Object(d.a)(s,2),o=r[0],l=r[1],u=Object(n.useState)(),j=Object(d.a)(u,2),m=j[0],f=j[1],h=Object(n.useState)(),O=Object(d.a)(h,2),p=O[0],x=O[1],g=Object(n.useState)("\u0412\u0441\u0435 \u043c\u043e\u0434\u0435\u043b\u0438"),_=Object(d.a)(g,2),v=_[0],N=_[1],y=Object(n.useState)(),C=Object(d.a)(y,2),S=C[0],I=C[1];Object(n.useEffect)((function(){var e,t;e=f,t=l,fetch("".concat("https://api-factory.simbirsoft1.com","/api/db/car"),Object(w.a)({method:"GET"},M)).then((function(e){return e.json()})).then((function(t){e(t.data)}),(function(e){t(e.toString())})),function(e,t){fetch("".concat("https://api-factory.simbirsoft1.com","/api/db/category"),Object(w.a)({method:"GET"},M)).then((function(e){return e.json()})).then((function(t){e(t.data)}),(function(e){t(e.toString())}))}(I,l)}),[]),Object(n.useEffect)((function(){c&&(x(),i(!1))}),[c]);return a?!o&&m?Object(b.jsxs)("div",{className:"cars-tab",children:[Object(b.jsx)("div",{className:"cars-tab__radios radio-container",onChange:function(e){N(e.target.value)},children:["\u0412\u0441\u0435 \u043c\u043e\u0434\u0435\u043b\u0438"].concat(Object(se.a)(S.map((function(e){return e.name})))).filter((function(e){return e.length>3&&!/[a-zA-Z]/.test(e)})).map((function(e,t){return Object(b.jsxs)("label",{className:"radio-container",htmlFor:!0,children:[Object(b.jsx)("input",{className:"radio-input",type:"radio",defaultChecked:0===t,name:"contact",value:e}),Object(b.jsx)("span",{className:"radio-text",children:e})]})}))}),Object(b.jsx)("div",{className:"cars-tab__table",children:("\u0412\u0441\u0435 \u043c\u043e\u0434\u0435\u043b\u0438"===v?m.filter((function(e){var t;return!!((null===(t=e.categoryId)||void 0===t?void 0:t.name)&&e.colors.length>0)&&e})):m.filter((function(e){var t;return!(!(null===(t=e.categoryId)||void 0===t?void 0:t.name)||e.categoryId.name!==v)&&e}))).map((function(e){return Object(b.jsx)(re,{id:e.id,setSelectedCar:x,selectedCar:p,carData:e,carClick:t,name:e.name,priceMin:e.priceMin,priceMax:e.priceMax,image:e.thumbnail.path},e.id)}))})]}):Object(b.jsx)("div",{children:"\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430"}):null}),de=function(e,t){fetch("".concat("https://api-factory.simbirsoft1.com","/api/db/rate"),Object(w.a)({method:"GET"},M)).then((function(e){return e.json()})).then((function(t){e(t.data)}),(function(e){t(e.toString())}))},le=(a(89),["\u041f\u043e\u043b\u043d\u044b\u0439 \u0431\u0430\u043a, 500\u20bd","\u0414\u0435\u0442\u0441\u043a\u043e\u0435 \u043a\u0440\u0435\u0441\u043b\u043e, 200\u20bd","\u041f\u0440\u0430\u0432\u044b\u0439 \u0440\u0443\u043b\u044c, 1600\u20bd"]),ue=a(54),je=a.n(ue),be=(a(90),a(91),function(e){var t=e.value,a=e.setValue,c=e.minDate,i=e.maxDate,s=Object(n.useState)(!1),r=Object(d.a)(s,2),o=r[0],l=r[1];return Object(b.jsxs)("div",{className:"data-time",children:[Object(b.jsx)("h3",{className:"data-time__description",children:"\u0421"}),Object(b.jsx)(je.a,{selected:t,placeholderText:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u0430\u0442\u0443 \u0438 \u0432\u0440\u0435\u043c\u044f",className:"date-time__picker",onFocus:function(){return l(!0)},onBlur:function(){return l(!1)},onChange:function(e){return a(e)},isClearable:!0,showTimeInput:!0,clearButtonClassName:"disabled",dateFormat:"dd.MM.yyyy h:mm",minDate:c||new Date,maxDate:i&&i}),Object(b.jsx)("img",{className:"data-time__close".concat(o?"":" disabled"),src:O,alt:"close",role:"none",onMouseDown:function(){a(""),l(!1)}})]})}),me=function(e){var t=e.valueFirst,a=e.valueSecond,n=e.setValueFirst,c=e.setValueSecond;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(be,{value:t,setValue:n,maxDate:a&&a}),Object(b.jsx)(be,{value:a,setValue:c,minDate:n&&t})]})},fe=function(e){var t=e.tariffs,a=e.time,n=e.currentTariff,c=e.setCurrentTariff,i=function(e){"tariffs"===e.target.name&&c(t.find((function(t){return t.rateTypeId.name===e.target.value})))};return Object(b.jsx)(b.Fragment,{children:t.map((function(e){return((null===a||void 0===a?void 0:a.days)||(null===a||void 0===a?void 0:a.hours))&&("\u0441\u0443\u0442\u043a\u0438"===e.rateTypeId.unit&&a.days>0||"7 \u0434\u043d\u0435\u0439"===e.rateTypeId.unit&&a.days>=7||"30 \u0434\u043d\u0435\u0439"===e.rateTypeId.unit&&a.days>=30||"\u043c\u0438\u043d"===e.rateTypeId.unit)?Object(b.jsxs)("label",{className:"radio-container",onChange:i,htmlFor:!0,children:[Object(b.jsx)("input",{className:"radio-input",type:"radio",name:"tariffs",checked:n&&n.rateTypeId.name===e.rateTypeId.name,value:e.rateTypeId.name}),Object(b.jsx)("span",{className:"radio-text",children:"".concat(e.rateTypeId.name,", ").concat(e.price,"\u20bd / ").concat(e.rateTypeId.unit)})]}):Object(b.jsxs)("label",{className:"radio-container",onChange:i,htmlFor:!0,children:[Object(b.jsx)("input",{className:"radio-input",type:"radio",name:"tariffs",disabled:!0,checked:!1}),Object(b.jsx)("span",{className:"radio-text",children:Object(b.jsx)("s",{children:e.rateTypeId.name})})]})}))})},he=function(e){var t=e.carColors,a=e.currentColor,n=e.setCurrentColor,c=function(e){"colors"===e.target.name&&n(e.target.value)};return Object(b.jsx)(b.Fragment,{children:["\u041b\u044e\u0431\u043e\u0439"].concat(Object(se.a)(t)).map((function(e){return Object(b.jsxs)("label",{className:"radio-container",onChange:c,htmlFor:!0,children:[Object(b.jsx)("input",{className:"radio-input",type:"radio",name:"colors",value:e,checked:e===a}),Object(b.jsx)("span",{className:"radio-text",children:e})]})}))})},Oe=function(e){var t=e.adds,a=e.setIsFullTank,n=e.isFullTank,c=e.setIsBabyChair,i=e.isBabyChair,s=e.setIsRighthand,r=e.isRighthand,o=function(e){e.target.value===t[0]?a(!n):e.target.value===t[1]?c(!i):e.target.value===t[2]&&s(!r)};return Object(b.jsx)(b.Fragment,{children:t.map((function(e){return Object(b.jsxs)("label",{className:"checkbox-container",htmlFor:!0,onChange:o,children:[Object(b.jsx)("input",{className:"checkbox-input",type:"checkbox",name:"adds",value:e,checked:(a=e,!(a!==t[0]||!n)||!(a!==t[1]||!i)||!(a!==t[2]||!r))}),Object(b.jsx)("span",{className:"checkbox-text",children:e})]});var a}))})},pe=Object(n.createContext)(null),xe=function(e){var t=e.isActive,a=e.carColors,c=e.returnData,i=e.isCanReset,s=e.isCanResetChange,r=Object(n.useContext)(pe).time,o=Object(n.useState)(),l=Object(d.a)(o,2),u=l[0],j=l[1],m=Object(n.useState)(null),f=Object(d.a)(m,2),h=f[0],O=f[1],p=Object(n.useState)(null),x=Object(d.a)(p,2),g=x[0],_=x[1],v=Object(n.useState)(!1),N=Object(d.a)(v,2),y=N[0],C=N[1],S=Object(n.useState)(!1),I=Object(d.a)(S,2),k=I[0],T=I[1],D=Object(n.useState)(!1),F=Object(d.a)(D,2),E=F[0],w=F[1],M=Object(n.useState)(null),R=Object(d.a)(M,2),B=R[0],H=R[1],A=Object(n.useState)(null),Y=Object(d.a)(A,2),P=Y[0],z=Y[1],L=Object(n.useState)(),V=Object(d.a)(L,2),G=V[0],U=V[1],K=!!u;Object(n.useEffect)((function(){_(null)}),[B,P]);return Object(n.useEffect)((function(){i&&(O(null),_(null),C(!1),T(!1),w(!1),H(null),z(null),s(!1))}),[i]),Object(n.useEffect)((function(){c({color:h,startDate:B,endDate:P,tariff:g,isFullTank:y,isBabyChair:k,isRighthand:E})}),[h,g,B,P,y,k,E]),Object(n.useEffect)((function(){de(j,U)}),[]),t?K&&!G?Object(b.jsxs)("div",{className:"additions-tab",children:[Object(b.jsxs)("div",{className:"additions-tab__colors-container",children:[Object(b.jsx)("h3",{className:"additions-tab__description",children:"\u0426\u0432\u0435\u0442"}),Object(b.jsx)("div",{className:"additions-tab__colors",children:Object(b.jsx)(he,{carColors:a,currentColor:h,setCurrentColor:O})})]}),Object(b.jsxs)("div",{className:"additions-tab__date-container",children:[Object(b.jsx)("h3",{className:"additions-tab__description",children:"\u0414\u0430\u0442\u0430 \u0430\u0440\u0435\u043d\u0434\u044b"}),Object(b.jsx)("div",{className:"additions-tab__date",children:Object(b.jsx)(me,{valueFirst:B,valueSecond:P,setValueFirst:H,setValueSecond:z})})]}),Object(b.jsxs)("div",{className:"additions-tab__tariff-container",children:[Object(b.jsx)("h3",{className:"additions-tab__description",children:"\u0422\u0430\u0440\u0438\u0444"}),Object(b.jsx)("div",{className:"additions-tab__tariff",children:Object(b.jsx)(fe,{tariffs:u,time:r,currentTariff:g,setCurrentTariff:_})})]}),Object(b.jsxs)("div",{className:"additions-tab__adds-container",children:[Object(b.jsx)("h3",{className:"additions-tab__description",children:"\u0414\u043e\u043f \u0443\u0441\u043b\u0443\u0433\u0438"}),Object(b.jsx)("div",{className:"additions-tab__adds",children:Object(b.jsx)(Oe,{adds:le,setIsFullTank:C,isFullTank:y,setIsBabyChair:T,isBabyChair:k,setIsRighthand:w,isRighthand:E})})]})]}):Object(b.jsx)("div",{children:"\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430"}):null},ge=function(){var e=Object(n.useContext)(pe),t=e.time,a=e.additionsData,c=e.setTime,i=e.price,s=e.isPriceCorrect,r=e.setIsPriceCorrect,o=e.locationData,d=e.carData,l=e.currentTab,u=e.isCurrentTabCompleted,j=e.setPrice,m=e.nextTab,f=e.setIsOrderCompleted;return Object(n.useEffect)((function(){c(z(a.startDate,a.endDate))}),[a]),Object(n.useEffect)((function(){return t&&a.tariff&&j(L(t,a))}),[t,a]),Object(n.useEffect)((function(){i&&i.length<2&&i[0]>=d.priceMin&&i[0]<=d.priceMax?r(!0):r(!1)}),[i,a]),Object(b.jsx)(H,{point:o.city&&o.point&&"".concat(o.point.cityId.name,", ").concat(o.point.address),price:i,tab:l,isCompleted:u,nextTab:m,carData:d,time:t&&"".concat(t.days,"\u0434 ").concat(t.hours,"\u0447"),additionsData:!!a&&a,isPriceCorrect:s,setIsOrderCompleted:f})},_e=(a(135),a(31)),ve=function(e){var t=e.isActive,a=Object(n.useState)(!1),c=Object(d.a)(a,2),i=c[0],s=c[1],r=Object(n.useState)(),l=Object(d.a)(r,2),u=l[0],j=l[1],m=Object(n.useState)(),f=Object(d.a)(m,2),h=f[0],O=f[1],p=Object(n.useContext)(pe),x=p.additionsData,g=p.carData,_=p.locationData,v=p.price,N=p.setIsOrderCompleted,y=p.isOrderCompleted;Object(n.useEffect)((function(){var e,t;e=j,t=s,fetch("".concat("https://api-factory.simbirsoft1.com","/api/db/orderStatus"),Object(w.a)({method:"GET"},M)).then((function(e){return e.json()})).then((function(t){e(t.data)}),(function(e){t(e.toString())}))}),[]);return(null===h||void 0===h?void 0:h.id)?Object(b.jsx)(o.a,{to:"/myorder/".concat(h.id)}):!t||i?null:Object(b.jsxs)("div",{className:"summary-tab",children:[Object(b.jsx)(V,{onConfirmClick:function(){if(u){var e=u.find((function(e){return"\u041d\u043e\u0432\u044b\u0435"===e.name}));t={orderStatusId:{id:e.id},cityId:{id:_.city.id},pointId:{id:_.point.id},carId:{id:g.id},color:x.color,dateFrom:_e(x.startDate).valueOf(),dateTo:_e(x.endDate).valueOf(),rateId:{id:x.tariff.id},price:v,isFullTank:x.isFullTank,isNeedChildChair:x.isBabyChair,isRightWheel:x.isRighthand},a=O,n=s,console.log(JSON.stringify(t)),fetch("".concat("https://api-factory.simbirsoft1.com","/api/db/order"),Object(w.a)({method:"POST",body:JSON.stringify(t)},M)).then((function(e){return e.json()})).then((function(e){a(e.data)}),(function(e){n(e.toString())}))}var t,a,n},isOpened:y,setIsOpened:N}),Object(b.jsx)(Y,{additionsData:x,carData:g})]})},Ne={color:null,startDate:null,endDate:null,tariff:null,isFullTank:!1,isBabyChair:!1,isRighthand:!1},ye=[{isCompleted:!1},{isCompleted:!1},{isCompleted:!1},{isCompleted:!1}],Ce=function(){var e=Object(n.useState)(!0),t=Object(d.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)(0),s=Object(d.a)(i,2),r=s[0],o=s[1],l=Object(n.useState)({city:null,point:null}),u=Object(d.a)(l,2),j=u[0],m=u[1],h=Object(n.useState)(),O=Object(d.a)(h,2),p=O[0],g=O[1],v=Object(n.useState)(Ne),N=Object(d.a)(v,2),y=N[0],C=N[1],S=Object(n.useState)(),I=Object(d.a)(S,2),k=I[0],T=I[1],D=Object(n.useState)(),F=Object(d.a)(D,2),E=F[0],w=F[1],M=Object(n.useState)(!1),R=Object(d.a)(M,2),B=R[0],H=R[1],A=Object(n.useState)(!1),Y=Object(d.a)(A,2),P=Y[0],z=Y[1],L=Object(n.useState)(!1),V=Object(d.a)(L,2),G=V[0],U=V[1],K=Object(n.useState)(!1),W=Object(d.a)(K,2),q=W[0],Q=W[1],Z=Object(n.useState)(ye),X=Object(d.a)(Z,2),$=X[0],ee=X[1],te=Object(n.useState)(!1),ae=Object(d.a)(te,2),ne=ae[0],ce=ae[1],se=function(){z(!0),C(Ne),T()};Object(n.useEffect)((function(){se(),p&&w([p.priceMin,p.priceMax])}),[p]),Object(n.useEffect)((function(){se(),U(!0),g()}),[j]);var re=function(e,t){var a=$;a[e].isCompleted=t,ee(a)};Object(n.useEffect)((function(){j.city&&j.point?re(0,!0):re(0,!1),re(1,!!p),Object.values(y).every((function(e){return null!==e}))&&q?(re(2,!0),re(3,!0)):(re(2,!1),re(3,!1))}),[p,j,y,E]);return Object(n.useEffect)((function(){H($[r].isCompleted)}),[j,p,y,r,E]),Object(b.jsx)("div",{className:"order-page",children:Object(b.jsxs)(pe.Provider,{value:{time:k,additionsData:y,setTime:T,price:E,isPriceCorrect:q,setIsPriceCorrect:Q,locationData:j,carData:p,currentTab:r,isCurrentTabCompleted:B,setPrice:w,nextTab:function(){o(r+1)},isOrderCompleted:ne,setIsOrderCompleted:ce},children:[Object(b.jsx)(x,{isBurgerHiding:a,setIsBurgerHiding:c}),Object(b.jsx)(f,{isHiding:a}),Object(b.jsxs)("div",{className:"order-page__content",children:[Object(b.jsx)(_,{addClassname:"order-page-padding"}),Object(b.jsx)(J,{completedSteps:$.filter((function(e){return!0===e.isCompleted})).length,currentStep:r,onBreadcrumbClick:function(e){$[e]&&o(e)}}),Object(b.jsxs)("div",{className:"order-page__tabs",children:[Object(b.jsx)(ie,{isActive:0===r,returnData:m}),Object(b.jsx)(oe,{isActive:1===r,returnData:g,isCanReset:G,isCanResetChange:U}),Object(b.jsx)(xe,{isActive:2===r,carColors:p&&p.colors,returnData:C,isCanReset:P,isCanResetChange:z}),Object(b.jsx)(ve,{isActive:3===r}),Object(b.jsx)(ge,{})]})]})]})})};var Se=function(){return Object(b.jsx)("div",{className:"wrapper",children:Object(b.jsx)(r.a,{children:Object(b.jsxs)(o.d,{children:[Object(b.jsx)(o.b,{path:"/order",children:Object(b.jsx)(Ce,{})}),Object(b.jsx)(o.b,{path:"/main",children:Object(b.jsx)(E,{})}),Object(b.jsx)(o.b,{path:"/myorder/:id",children:Object(b.jsx)(U,{})}),Object(b.jsx)(o.a,{to:"/main"})]})})})};a(136);s.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(Se,{})}),document.getElementById("root"))},63:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){},88:function(e,t,a){},89:function(e,t,a){},91:function(e,t,a){}},[[138,1,2]]]);
//# sourceMappingURL=main.be0d9f71.chunk.js.map